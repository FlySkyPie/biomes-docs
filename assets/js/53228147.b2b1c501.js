"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[945],{1662:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var n=t(4320),o=(t(7953),t(8860));const a={sidebar_position:1},s="Overview",i={unversionedId:"resources/overview",id:"resources/overview",title:"Overview",description:"Problem",source:"@site/docs/resources/overview.md",sourceDirName:"resources",slug:"/resources/overview",permalink:"/docs/resources/overview",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Resource System",permalink:"/docs/category/resource-system"},next:{title:"Example Usage",permalink:"/docs/resources/example_usage"}},c={},l=[{value:"Problem",id:"problem",level:2},{value:"Resource System",id:"resource-system",level:2}],p={toc:l},u="wrapper";function m({components:e,...r}){return(0,o.yg)(u,(0,n.A)({},p,r,{components:e,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"overview"},"Overview"),(0,o.yg)("h2",{id:"problem"},"Problem"),(0,o.yg)("p",null,"Biomes is a ",(0,o.yg)("a",{parentName:"p",href:"https://nextjs.org/"},"Next.js")," app with a ",(0,o.yg)("a",{parentName:"p",href:"https://threejs.org/"},"Three.js")," renderer.\nReact uses react state to manage resources, and Three.js doesn't have an out-of-the-box solution for state management;\ntypically refreshing a Three.js app will reset the scene."),(0,o.yg)("p",null,"There are a few problems here:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"How to persist Three.js game state."),(0,o.yg)("li",{parentName:"ol"},"How to update React state when the Three.js game state changes, triggering a re-render."),(0,o.yg)("li",{parentName:"ol"},"How to update the Three.js game state when the React state changes.")),(0,o.yg)("p",null,"Moreover, there is the problem of defining dependencies between resources. For instance, we may want to change\nthe player's appearance if their health is below a certain point. How can we describe this dependency between the player's appearance\nand their health?"),(0,o.yg)("h2",{id:"resource-system"},"Resource System"),(0,o.yg)("p",null,"The resource system was created to solve these problems and is composed of a few components, the main ones being:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("inlineCode",{parentName:"li"},"BiomesResourcesBuilder"),": Used to define resources."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("inlineCode",{parentName:"li"},"TypedResourceDeps"),": Used to define dependencies between resources, using ",(0,o.yg)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Dependency_injection"},"dependency injection"),"."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("inlineCode",{parentName:"li"},"TypedResources"),": Used to access resources."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("inlineCode",{parentName:"li"},"ReactResources"),": Used to access resources from within React components."),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("inlineCode",{parentName:"li"},"ResourcePaths"),": Typed resource keys with paths that define arguments for lookups.")))}m.isMDXComponent=!0},8860:(e,r,t)=>{t.d(r,{xA:()=>p,yg:()=>d});var n=t(7953);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach(function(r){o(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function i(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=n.createContext({}),l=function(e){var r=n.useContext(c),t=r;return e&&(t="function"==typeof e?e(r):s(s({},r),e)),t},p=function(e){var r=l(e.components);return n.createElement(c.Provider,{value:r},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},y=n.forwardRef(function(e,r){var t=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=l(t),y=o,d=u["".concat(c,".").concat(y)]||u[y]||m[y]||a;return t?n.createElement(d,s(s({ref:r},p),{},{components:t})):n.createElement(d,s({ref:r},p))});function d(e,r){var t=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=t.length,s=new Array(a);s[0]=y;var i={};for(var c in r)hasOwnProperty.call(r,c)&&(i[c]=r[c]);i.originalType=e,i[u]="string"==typeof e?e:o,s[1]=i;for(var l=2;l<a;l++)s[l]=t[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,t)}y.displayName="MDXCreateElement"}}]);